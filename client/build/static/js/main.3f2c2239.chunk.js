(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,a,t){e.exports=t(38)},38:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(21),m=t.n(l),c=t(5),o=t(42),i=t(41),s=t(4),d=t(7);var u=()=>{const[e,a]=Object(r.useState)(null),[t,l]=Object(r.useState)(!1),[m,u]=Object(r.useState)(!1),p=Object(r.useRef)(),b=Object(o.a)();return n.a.createElement("div",{className:"container mt-5"},n.a.createElement("h1",null,"Upload Your Itinerary"),n.a.createElement("div",{className:"card mb-4 bg-light"},n.a.createElement("div",{className:"card-body text-center"},n.a.createElement("h2",null,"Step 1: Upload Your Itinerary PDF"),n.a.createElement("p",null,"Upload your travel itinerary PDF to automatically extract information"),n.a.createElement("div",{className:"mb-3"},n.a.createElement("input",{type:"file",id:"itinerary-file",accept:"application/pdf",onChange:async e=>{const t=e.target.files[0];if(t&&"application/pdf"===t.type){a(t),l(!0);const e=new FormData;e.append("itinerary",t);try{const a=await i.a.post("/api/itineraries/extract",e);a.data.success&&p.current&&(p.current.setValues(Object(c.a)(Object(c.a)({},p.current.values),a.data.data)),u(!0))}catch(r){console.error("Error extracting data:",r)}finally{l(!1)}}},className:"form-control",style:{display:"none"}}),n.a.createElement("label",{htmlFor:"itinerary-file",className:"btn btn-primary"},e?e.name:"Choose PDF file")),t&&n.a.createElement("p",{className:"text-info"},"Extracting data from your PDF..."),m&&n.a.createElement("p",{className:"text-success"},"Data extracted successfully! Please verify the information below."))),n.a.createElement("h2",null,"Step 2: Verify and Complete Your Information"),n.a.createElement(s.d,{innerRef:p,initialValues:{destinationCountry:"",arrivalDate:"",departureDate:"",flightNumber:"",airline:"",accommodationAddress:"",accommodationPhone:"",purpose:"tourism"},validationSchema:d.b({destinationCountry:d.c().required("Required"),arrivalDate:d.a().required("Required"),departureDate:d.a().required("Required"),flightNumber:d.c().required("Required"),airline:d.c().required("Required"),accommodationAddress:d.c().required("Required"),purpose:d.c().required("Required")}),onSubmit:async(a,t)=>{let{setSubmitting:r}=t;const n=new FormData;e&&n.append("itinerary",e),Object.keys(a).forEach(e=>{n.append(e,a[e])});try{(await i.a.post("/api/itineraries",n)).data.success&&b("/dashboard")}catch(l){console.error("Error uploading itinerary:",l)}finally{r(!1)}}},e=>{let{isSubmitting:a}=e;return n.a.createElement(s.c,null,n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"destination-country",className:"form-label"},"Destination Country"),n.a.createElement(s.b,{name:"destinationCountry",type:"text",id:"destination-country",className:"form-control"}),n.a.createElement(s.a,{name:"destinationCountry",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"arrival-date",className:"form-label"},"Arrival Date"),n.a.createElement(s.b,{name:"arrivalDate",type:"date",id:"arrival-date",className:"form-control"}),n.a.createElement(s.a,{name:"arrivalDate",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"departure-date",className:"form-label"},"Departure Date"),n.a.createElement(s.b,{name:"departureDate",type:"date",id:"departure-date",className:"form-control"}),n.a.createElement(s.a,{name:"departureDate",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"flight-number",className:"form-label"},"Flight Number"),n.a.createElement(s.b,{name:"flightNumber",type:"text",id:"flight-number",className:"form-control"}),n.a.createElement(s.a,{name:"flightNumber",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"airline-input",className:"form-label"},"Airline"),n.a.createElement(s.b,{name:"airline",type:"text",id:"airline-input",className:"form-control"}),n.a.createElement(s.a,{name:"airline",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"accommodation-address",className:"form-label"},"Accommodation Address"),n.a.createElement(s.b,{name:"accommodationAddress",as:"textarea",id:"accommodation-address",className:"form-control"}),n.a.createElement(s.a,{name:"accommodationAddress",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"accommodation-phone",className:"form-label"},"Accommodation Phone"),n.a.createElement(s.b,{name:"accommodationPhone",type:"text",id:"accommodation-phone",className:"form-control"}),n.a.createElement(s.a,{name:"accommodationPhone",component:"div",className:"text-danger"})),n.a.createElement("div",{className:"mb-3"},n.a.createElement("label",{htmlFor:"purpose-select",className:"form-label"},"Purpose of Travel"),n.a.createElement(s.b,{name:"purpose",as:"select",id:"purpose-select",className:"form-control"},n.a.createElement("option",{value:"tourism"},"Tourism"),n.a.createElement("option",{value:"business"},"Business"),n.a.createElement("option",{value:"education"},"Education"),n.a.createElement("option",{value:"other"},"Other")),n.a.createElement(s.a,{name:"purpose",component:"div",className:"text-danger"})),n.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:a||t},a?"Submitting...":"Submit"))}))};m.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(u,null)))}},[[25,1,2]]]);
//# sourceMappingURL=main.3f2c2239.chunk.js.map